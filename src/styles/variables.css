/* ==========================================================================
   CSS Custom Properties (Variables)
   Tufte-inspired design system
   ========================================================================== */

:root {
  /* Typography Scale - optimized for 900px width with serif fonts */
  --font-size-xs: clamp(0.8rem, 0.75rem + 0.25vw, 0.9rem);
  --font-size-sm: clamp(0.95rem, 0.9rem + 0.3vw, 1.1rem);
  --font-size-base: clamp(1.1rem, 1.05rem + 0.4vw, 1.25rem);
  --font-size-lg: clamp(1.25rem, 1.15rem + 0.5vw, 1.4rem);
  --font-size-xl: clamp(1.4rem, 1.25rem + 0.7vw, 1.65rem);
  --font-size-2xl: clamp(1.65rem, 1.45rem + 1vw, 2.15rem);
  --font-size-3xl: clamp(2.15rem, 1.85rem + 1.5vw, 2.75rem);
  --font-size-4xl: clamp(2.75rem, 2.25rem + 2.5vw, 3.8rem);

  /* ============================================================
     FONTS - Controlled by Typography Presets System
     See: src/lib/typography-presets.ts for preset definitions
     See: src/components/ThemeStyles.astro for default loading
     See: src/components/SettingsPanel.astro for runtime switching

     DO NOT hardcode fonts here - they will conflict with presets!
     ============================================================ */

  /* Font Weights - using extremes for impact (300 vs 700) */
  --font-weight-light: 300;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  /* Line Heights - Desktop */
  --line-height-tight: 1.2;
  --line-height-snug: 1.35;
  --line-height-normal: 1.6;
  --line-height-relaxed: 1.75;
  --line-height-loose: 1.9;

  /* Letter Spacing */
  --letter-spacing-tighter: -0.03em;
  --letter-spacing-tight: -0.02em;
  --letter-spacing-normal: 0;
  --letter-spacing-wide: 0.025em;
  --letter-spacing-wider: 0.05em;

  /* Word Spacing */
  --word-spacing-tight: -0.02em;
  --word-spacing-normal: 0;
  --word-spacing-wide: 0.05em;

  /* ============================================================
     MOBILE TYPOGRAPHY SCALE
     Principled approach based on:
     1. Optical sizing: smaller text needs more spacing
     2. Reading distance: phones held closer = larger apparent size
     3. Line length: narrower columns need adjusted line-height
     4. Touch targets: adequate spacing for readability
     ============================================================ */

  /* Mobile-specific line heights (applied via media query) */
  --line-height-tight-mobile: 1.25;
  --line-height-snug-mobile: 1.4;
  --line-height-normal-mobile: 1.65;
  --line-height-relaxed-mobile: 1.8;

  /* Mobile letter spacing (looser for smaller screens) */
  --letter-spacing-tight-mobile: -0.01em;
  --letter-spacing-normal-mobile: 0.005em;
  --letter-spacing-wide-mobile: 0.03em;

  /* Spacing Scale */
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --space-10: 2.5rem;
  --space-12: 3rem;
  --space-16: 4rem;
  --space-20: 5rem;
  --space-24: 6rem;

  /* Content Top Alignment - Single source of truth */
  --content-top-padding: 5rem;

  /* Layout - CUSTOMIZE THESE FOR YOUR PREFERRED WIDTH */
  --content-width: 70%;
  --content-max-width: 900px;        /* Balanced width for readability */
  --content-max-width-wide: 1050px;  /* For extra wide layouts */
  --sidenote-width: 300px;
  --margin-width: 400px;
  --full-width: 1400px;
  --container-padding: var(--space-6);

  /* Mobile-specific spacing overrides */
  --container-padding-mobile: var(--space-5);
  --content-top-padding-mobile: var(--space-10);

  /* Mobile breakpoint */
  --breakpoint-mobile: 768px;

  /* Tufte margins */
  --margin-left: 5%;
  --margin-right: 30%;

  /* Border Radius */
  --radius-sm: 2px;
  --radius-md: 4px;
  --radius-lg: 8px;
  --radius-full: 9999px;

  /* Transitions */
  --transition-fast: 150ms ease;
  --transition-normal: 250ms ease;
  --transition-slow: 350ms ease;

  /* Z-index layers */
  --z-base: 0;
  --z-dropdown: 100;
  --z-sticky: 200;
  --z-modal: 300;
  --z-tooltip: 400;
}

/* Responsive adjustments */
@media (max-width: 1200px) {
  :root {
    --content-width: 65%;
    --margin-right: 20%;
  }
}

@media (max-width: 900px) {
  :root {
    --content-width: 90%;
    --margin-left: 5%;
    --margin-right: 5%;
  }
}

@media (max-width: 768px) {
  :root {
    --container-padding: var(--container-padding-mobile);
    --content-top-padding: var(--content-top-padding-mobile);
  }
}

@media (max-width: 480px) {
  :root {
    --container-padding: var(--space-4);
    --content-top-padding: var(--space-8);
  }
}
