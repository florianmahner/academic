---
/**
 * Card Component
 * Flexible card with optional header, body, and footer slots
 */

interface Props {
  variant?: 'default' | 'elevated' | 'outlined' | 'ghost';
  padding?: 'none' | 'sm' | 'md' | 'lg';
  interactive?: boolean;
  href?: string;
  class?: string;
  [key: string]: any;
}

const {
  variant = 'default',
  padding = 'md',
  interactive = false,
  href,
  class: className,
  ...rest
} = Astro.props;

const Tag = href ? 'a' : 'div';
const classes = [
  'card',
  `card-${variant}`,
  `card-padding-${padding}`,
  interactive && 'card-interactive',
  className
].filter(Boolean).join(' ');
---

<Tag
  href={href}
  class={classes}
  {...rest}
>
  {Astro.slots.has('header') && (
    <div class="card-header">
      <slot name="header" />
    </div>
  )}

  <div class="card-body">
    <slot />
  </div>

  {Astro.slots.has('footer') && (
    <div class="card-footer">
      <slot name="footer" />
    </div>
  )}
</Tag>

<style>
  .card {
    display: block;
    border-radius: var(--card-radius);
    background-color: var(--color-bg);
    text-decoration: none;
    color: inherit;
  }

  /* Variants */
  .card-default {
    border: 1px solid var(--color-border-light);
  }

  .card-elevated {
    box-shadow: var(--shadow-md);
    border: none;
  }

  .card-outlined {
    border: 1px solid var(--color-border);
    background-color: transparent;
  }

  .card-ghost {
    border: none;
    background-color: transparent;
  }

  /* Padding */
  .card-padding-none .card-body,
  .card-padding-none .card-header,
  .card-padding-none .card-footer {
    padding: 0;
  }

  .card-padding-sm .card-body { padding: var(--space-3); }
  .card-padding-sm .card-header,
  .card-padding-sm .card-footer { padding: var(--space-2) var(--space-3); }

  .card-padding-md .card-body { padding: var(--space-4); }
  .card-padding-md .card-header,
  .card-padding-md .card-footer { padding: var(--space-3) var(--space-4); }

  .card-padding-lg .card-body { padding: var(--space-6); }
  .card-padding-lg .card-header,
  .card-padding-lg .card-footer { padding: var(--space-4) var(--space-6); }

  /* Card sections */
  .card-header {
    border-bottom: 1px solid var(--color-border-light);
  }

  .card-footer {
    border-top: 1px solid var(--color-border-light);
  }

  /* Interactive state */
  .card-interactive {
    cursor: pointer;
    transition: transform var(--transition-fast), box-shadow var(--transition-fast), border-color var(--transition-fast);
  }

  .card-interactive:hover {
    transform: translateY(-2px);
  }

  .card-interactive.card-default:hover,
  .card-interactive.card-outlined:hover {
    border-color: var(--color-border);
    box-shadow: var(--shadow-sm);
  }

  .card-interactive.card-elevated:hover {
    box-shadow: var(--shadow-lg);
  }

  .card-interactive.card-ghost:hover {
    background-color: var(--color-bg-alt);
  }

  /* Focus state for linked cards */
  a.card:focus-visible {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
  }
</style>
