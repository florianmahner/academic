---
/**
 * TalkCard Component
 * Display talk/presentation with event details and links.
 * Composes TimelineEntry primitive with talk-specific additions.
 */
import TimelineEntry from '../primitives/TimelineEntry.astro';
import ActionLink from '../primitives/ActionLink.astro';
import Badge from '../ui/Badge.astro';

interface Props {
  title: string;
  event: string;
  date: string;
  location?: string;
  type?: 'conference' | 'workshop' | 'seminar' | 'invited';
  slides?: string;
  video?: string;
  abstract?: string;
  class?: string;
}

const {
  title,
  event,
  date,
  location,
  type,
  slides,
  video,
  abstract,
  class: className,
} = Astro.props;
---

<TimelineEntry date={date} class:list={['talk-card', className]}>
  <div class="talk-meta">
    {type && <Badge size="sm" variant="outline">{type}</Badge>}
  </div>
  <h3 class="talk-title hover-title">{title}</h3>
  <div class="talk-event">
    {event}
    {location && <span class="talk-location"> Â· {location}</span>}
  </div>
  {abstract && <p class="talk-abstract">{abstract}</p>}

  <Fragment slot="links">
    {slides && <ActionLink href={slides} label="Slides" icon="slides" />}
    {video && <ActionLink href={video} label="Video" icon="video" />}
  </Fragment>
</TimelineEntry>

<style>
  .talk-meta {
    margin-bottom: var(--space-2);
  }

  .talk-meta:empty {
    display: none;
  }

  .talk-title {
    font-size: var(--font-size-base);
    font-family: var(--font-body);
    font-weight: var(--font-weight-medium);
    margin: 0 0 var(--space-2);
    line-height: var(--line-height-snug);
  }

  .talk-event {
    font-size: var(--font-size-sm);
    font-family: var(--font-ui);
    color: var(--color-accent);
    font-weight: var(--font-weight-medium);
  }

  .talk-location {
    font-family: var(--font-ui);
    color: var(--color-text-muted);
    font-weight: var(--font-weight-normal);
  }

  .talk-abstract {
    font-size: var(--font-size-sm);
    font-family: var(--font-body);
    color: var(--color-text-secondary);
    margin: var(--space-2) 0 0;
    line-height: var(--line-height-normal);
  }
</style>
