---
/**
 * TeachingCard Component
 *
 * Display course/teaching information.
 * Composes TimelineEntry primitive.
 */
import TimelineEntry from '../primitives/TimelineEntry.astro';
import ActionLink from '../primitives/ActionLink.astro';

interface Props {
  title: string;
  role: string;
  institution: string;
  semester: string;
  year?: string | number;
  description?: string;
  materials?: string;
  class?: string;
}

const {
  title,
  role,
  institution,
  semester,
  year,
  description,
  materials,
  class: className,
} = Astro.props;

const displaySemester = year ? `${semester} ${year}` : semester;
---

<TimelineEntry date={displaySemester} class:list={['teaching-card', className]}>
  <h3 class="teaching-title hover-title">{title}</h3>
  <div class="teaching-meta">
    <span class="teaching-role">{role}</span>
    <span class="teaching-institution">{institution}</span>
  </div>
  {description && <p class="teaching-description">{description}</p>}

  <Fragment slot="links">
    {materials && <ActionLink href={materials} label="Materials" icon="external" />}
  </Fragment>
</TimelineEntry>

<style>
  .teaching-title {
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-semibold);
    margin: 0 0 var(--space-2);
  }

  .teaching-meta {
    display: flex;
    gap: var(--space-2);
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin-bottom: var(--space-2);
  }

  .teaching-role {
    color: var(--color-accent);
    font-weight: var(--font-weight-medium);
  }

  .teaching-role::after {
    content: 'Â·';
    margin-left: var(--space-2);
    color: var(--color-text-muted);
  }

  .teaching-description {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin: 0;
    line-height: var(--line-height-normal);
  }
</style>
