---
/**
 * Card Primitive
 *
 * @deprecated Use MediaCard or StatCard primitives instead.
 * This component is kept for backwards compatibility with ProjectCard.
 *
 * Base card container with consistent styling.
 *
 * Uses a div wrapper with an overlay link for proper HTML semantics.
 * This allows block-level content while keeping the entire card clickable.
 *
 * Hover effect: Uses the global .hover-item pattern for consistent
 * border-left accent color on hover across all card types.
 *
 * @prop href - Optional link URL (makes card clickable)
 * @prop external - Open link in new tab
 * @prop class - Additional CSS classes
 */

interface Props {
  href?: string;
  external?: boolean;
  class?: string;
}

const { href, external = false, class: className } = Astro.props;
---

<div class:list={['card', 'hover-item', { 'card--link': !!href }, className]}>
  {href && (
    <a
      href={href}
      target={external ? '_blank' : undefined}
      rel={external ? 'noopener noreferrer' : undefined}
      class="card-link"
      aria-hidden="true"
      tabindex="-1"
    />
  )}
  <slot />
</div>

<style>
  .card {
    /* Layout handled by .hover-item from global.css */
    display: block;
    text-decoration: none;
    color: inherit;
  }

  .card-link {
    position: absolute;
    inset: 0;
    z-index: 1;
  }

  /* Allow nested interactive elements to be clickable */
  .card :global(a),
  .card :global(button) {
    position: relative;
    z-index: 2;
  }
</style>
